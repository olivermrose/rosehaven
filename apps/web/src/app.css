@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
	--font-sans: InterVariable, ui-sans-serif, sans-serif;

	/*
	 * Values generated from https://www.fluid-type-scale.com/

	 * Min: 16px, 400px, 1.125
	 * Max: 20px, 1280px, 1.15
	 */
	--text-fluid-xs: clamp(0.79rem, 0.22cqi + 0.74rem, 0.95rem);
	--text-fluid-sm: clamp(0.89rem, 0.28cqi + 0.82rem, 1.09rem);
	--text-fluid-base: clamp(1rem, 0.35cqi + 0.91rem, 1.25rem);
	--text-fluid-md: clamp(1.13rem, 0.44cqi + 1.01rem, 1.44rem);
	--text-fluid-lg: clamp(1.27rem, 0.55cqi + 1.13rem, 1.65rem);
	--text-fluid-xl: clamp(1.42rem, 0.67cqi + 1.26rem, 1.9rem);
	--text-fluid-2xl: clamp(1.6rem, 0.82cqi + 1.4rem, 2.19rem);
	--text-fluid-3xl: clamp(1.8rem, 1cqi + 1.55rem, 2.51rem);
	--text-fluid-4xl: clamp(2.03rem, 1.22cqi + 1.72rem, 2.89rem);
	--text-fluid-5xl: clamp(2.28rem, 1.47cqi + 1.91rem, 3.33rem);
	--text-fluid-6xl: clamp(2.57rem, 1.77cqi + 2.12rem, 3.82rem);
	--text-fluid-7xl: clamp(2.89rem, 2.13cqi + 2.35rem, 4.4rem);
	--text-fluid-8xl: clamp(3.25rem, 2.55cqi + 2.61rem, 5.06rem);
	--text-fluid-9xl: clamp(3.65rem, 3.05cqi + 2.89rem, 5.82rem);

	--color-off-white: oklch(0.9578 0.0095 93.57);
	--color-off-black: oklch(0.1818 0 0);

	--color-aloe-50: oklch(96.06% 0.076 126.22);
	--color-aloe-100: oklch(91.17% 0.146 125.32);
	--color-aloe-200: oklch(84.32% 0.134 125.28);
	--color-aloe-300: oklch(76.63% 0.123 125.7);
	--color-aloe-400: oklch(69.76% 0.112 125.53);
	--color-aloe-500: oklch(60.52% 0.097 125.36);
	--color-aloe-600: oklch(51.19% 0.082 125.83);
	--color-aloe-700: oklch(41.83% 0.067 125.3);
	--color-aloe-800: oklch(32.22% 0.051 125.65);
	--color-aloe-900: oklch(23.04% 0.037 125.02);
	--color-aloe-950: oklch(17.56% 0.03 127.14);

	--color-denim-50: oklch(95.67% 0.012 259.84);
	--color-denim-100: oklch(92.15% 0.022 256.74);
	--color-denim-200: oklch(84.47% 0.045 255.64);
	--color-denim-300: oklch(76.6% 0.073 253.84);
	--color-denim-400: oklch(68.79% 0.092 250.24);
	--color-denim-500: oklch(60.73% 0.082 250.4);
	--color-denim-600: oklch(51.66% 0.07 249.98);
	--color-denim-700: oklch(42.22% 0.057 250.17);
	--color-denim-800: oklch(32.67% 0.045 251.68);
	--color-denim-900: oklch(23.11% 0.032 252.93);
	--color-denim-950: oklch(17.82% 0.023 249.15);

	--color-peach-50: oklch(96.73% 0.011 39.55);
	--color-peach-100: oklch(93.25% 0.022 38.38);
	--color-peach-200: oklch(86.67% 0.047 43.3);
	--color-peach-300: oklch(79.92% 0.078 44.84);
	--color-peach-400: oklch(73.63% 0.115 48.83);
	--color-peach-500: oklch(63.84% 0.099 49.23);
	--color-peach-600: oklch(54.25% 0.084 48.93);
	--color-peach-700: oklch(43.72% 0.068 49.02);
	--color-peach-800: oklch(33.94% 0.053 47.69);
	--color-peach-900: oklch(23.59% 0.036 50.34);
	--color-peach-950: oklch(19.19% 0.03 48.8);

	--color-plum-50: oklch(96.63% 0.011 348.63);
	--color-plum-100: oklch(93.44% 0.021 350.66);
	--color-plum-200: oklch(85.97% 0.047 350.28);
	--color-plum-300: oklch(79.49% 0.074 350.9);
	--color-plum-400: oklch(72.85% 0.106 350.5);
	--color-plum-500: oklch(66.45% 0.141 349.78);
	--color-plum-600: oklch(58.78% 0.14 350.16);
	--color-plum-700: oklch(51.71% 0.124 350.07);
	--color-plum-800: oklch(39.03% 0.094 350.14);
	--color-plum-900: oklch(26.75% 0.064 350.25);
	--color-plum-950: oklch(20.39% 0.05 350.12);

	--color-wine-50: oklch(96.62% 0.011 10.51);
	--color-wine-100: oklch(92.56% 0.025 14.67);
	--color-wine-200: oklch(85.21% 0.053 13.87);
	--color-wine-300: oklch(77.8% 0.087 14.78);
	--color-wine-400: oklch(70.59% 0.127 15.33);
	--color-wine-500: oklch(64.08% 0.17 16.71);
	--color-wine-600: oklch(56.32% 0.165 17.15);
	--color-wine-700: oklch(48.19% 0.141 17.25);
	--color-wine-800: oklch(36.59% 0.108 17.45);
	--color-wine-900: oklch(25.89% 0.076 17.14);
	--color-wine-950: oklch(19.56% 0.058 17.42);

	@keyframes bounce {
		0%,
		100% {
			transform: translateY(0);
			animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
		}

		50% {
			transform: translateY(-25%);
			animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
		}
	}
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
}

:root {
	--background: var(--color-off-white);
	--foreground: var(--color-off-black);
}

.dark {
	--background: var(--color-off-black);
	--foreground: var(--color-off-white);
}

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
	* {
		/* prettier-ignore */
		font-feature-settings:
			"calt", /* Contextual alternatives */
			"cv05", /* Lowercase L with tail */
			"cv10", /* Capital G with spur */
			"cv11", /* Single-story a */
			"liga", /* Standard ligatures */
			"ss01", /* Open digits */
			"ss07"; /* Square punctuation */
	}

	button {
		cursor: pointer;
	}
}

@layer components {
	.period::after {
		content: ".";
		font-family: var(--font-sans);
		font-style: normal;
		color: var(--color-peach-400);
	}
}

@layer utilities {
	[data-content] a {
		text-decoration: underline dashed var(--color-aloe-500) 1px;
		text-underline-offset: 2px;

		@variant dark {
			text-decoration-color: var(--color-neutral-400);
		}
	}

	[data-content] p {
		white-space: normal;
	}

	[data-category="dialogue"] p {
		max-width: 60ch;

		&[style*="text-align: right"] {
			margin-left: auto;
			color: var(--color-wine-700);

			@variant dark {
				color: white;
			}
		}
	}

	[data-category="short-story"] {
		p:not([style*="text-align: center"]) {
			text-indent: 4ch;
		}
	}
}

@utility blended {
	background: white;
	background-clip: text;
	-webkit-text-fill-color: transparent;
}
